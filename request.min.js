!function(r){var t=function(r,t){var n=[].forEach;r instanceof Array||"length"in r?n?n.call(r,t):function(){for(var n=0;n<r.length;n++)t(r[n],n,r)}():function(){for(var n in r)r.hasOwnProperty(n)&&t(r[n],n,r)}()},n=r.request=function(r,n){function o(r,t){var o=new Error(r);o.original=t,n(o,void 0,e)}r=r||{},r.url=r.url||"#",r.method=r.method||"GET",r.async=r.async||!0,r.body=r.body||null;var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return e.onreadystatechange=function(){4===e.readyState&&200===e.status?n(null,e.responseText,e):4===e.readyState&&0!==e.status&&(12152===e.status?o("unknown ajax error",e):e.status>1e4?o("unknown IE error",e):o("HTTP error "+e.status,e))},e.open(r.method,r.url,r.async),e.onerror=function(r){o("unknown ajax error",r)},r.headers&&t(r.headers,function(r,t){e.setRequestHeader(t,r)}),e.send("POST"===r.method?r.body:null),e};n.json=function(r,t){n(r,function(r,o,e){if(r)t(r,o,e);else try{var i=n.parseJSON(o);t(null,i,e)}catch(u){var r=new Error("invalid JSON");r.original=u,t(r,void 0,e)}})},n.jsonp=function(r,t){var o=document.createElement("script"),e="tinyrequest_"+Date.now()+"_"+Math.random().toString().split(".").pop();r.unknownErrors=!!r.unknownErrors,o.src=r.url.match(/\?/)?r.url+"&callback="+e:r.url+"?callback="+e,o.async=!1;var i=function(){o.parentNode.removeChild(o),n.removeEvent(window,"error",u)};o.onerror=function(r){t(r),i()},window[e]=function(r){t(null,r),i()};var u=function(n,e){var u=function(){var r=new Error("jsonp scripting error");r.original=n,t(r),i()};n.filename===o.src?u():e===o.src?u():window.event&&window.event.errorUrl===o.src?(window.event=null,u()):r.unknownErrors&&n.target==window&&""===n.filename&&"Script error."===n.message?u():r.unknownErrors&&n.target===window&&!n.filename?u():n.filename&&n.filename!==o.src||i()};n.addEvent(window,"error",u);var h=document.getElementsByTagName("head")[0];h.appendChild(o)},n.parseJSON=function(r){return window.JSON&&window.JSON.parse?JSON.parse(r):/^[\],:{}\s]*$/.test(r.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+r)():null},n.addEvent=function(r,t,n){r.addEventListener?r.addEventListener(t,n,!1):r.attachEvent&&r.attachEvent("on"+t,n)},n.removeEvent=function(r,t,n){r.removeEventListener?r.removeEventListener(t,n,!1):r.detachEvent&&r.detachEvent("on"+t,n)}}(this);